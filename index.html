<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SHEIHU Launcher</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" />
    <style>
      body {
        background-color: #0a0a0a;
        overflow: hidden;
      }

      body:not(.loaded) div#app {
        opacity: 0 !important;
        visibility: hidden;
        transition: opacity 0.4s ease-in-out;
      }

      body.loaded div#app {
        transition: opacity 0.4s ease-in-out;
        opacity: 1;
        visibility: visible;
      }

      div.view:not(.active) {
        display: none;
      }

      div.loading,
      div.maintenance,
      div.update {
        position: fixed;
        top: 0;
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100vh;
        width: 100vw;
        background-color: #0a0a0a;
        transition: opacity 0.4s ease-in-out;
      }

      div.loading {
        opacity: 1;
      }

      div.loading.loaded {
        opacity: 0;
      }

      div.maintenance,
      div.update {
        opacity: 0;
      }

      div.maintenance.loaded,
      div.update.loaded {
        opacity: 1;
      }
    </style>
  </head>
  <body>
    <div id="view-loading" class="loading" data-view="loading">
      <div class="loading-card">
        <p class="spinner"><i class="fa-solid fa-circle-notch fa-spin"></i></p>
        <p class="text">Loading...</p>
      </div>
    </div>

    <div id="view-maintenance" class="maintenance" data-view="maintenance">
      <div class="maintenance-card">
        <p class="gears"><i class="fa-solid fa-gears"></i></p>
        <h3>Maintenance</h3>
        <p class="dates" id="maintenance-dates"></p>
        <p class="text" id="maintenance-reason"></p>
      </div>
    </div>

    <div id="view-update" class="update" data-view="update">
      <div class="maintenance-card">
        <p class="up"><i class="fa-solid fa-circle-up"></i></p>
        <h3>An update is available</h3>
        <p class="text" id="update-text">Please wait while we update your launcher...</p>
        <div class="progress-container" id="update-progress-container">
          <div class="progress-info">
            <span id="update-progress-label">Downloading...</span>
            <span id="update-progress-percent">0%</span>
          </div>
          <div class="progress-bar-bg">
            <div class="progress-bar-fill" id="update-progress-bar"></div>
          </div>
        </div>
      </div>
    </div>

    <div id="app">
      <div class="app-background"></div>

      <div id="view-login" class="view" data-view="login">
        <div class="login-card">
          <img src="https://github.com/pfuni/main/raw/refs/heads/main/shlogo.svg" class="logo" alt="Logo" />
          <h1>SHEIHU</h1>
          <p class="subtitle">Sign in to continue</p>

          <button id="btn-login-ms" class="btn btn-microsoft">
            <i class="fa-brands fa-microsoft"></i>
            <span>Sign in with Microsoft</span>
          </button>
        </div>
      </div>

      <div id="view-home" class="view" data-view="home">
        <!-- Left Sidebar Navigation -->
        <aside class="nav-sidebar">
          <div class="nav-logo">
            <img src="https://github.com/pfuni/main/raw/refs/heads/main/LOGO_WHITE.svg" alt="SHEIHU" class="logo-img" />
          </div>
          
          <nav class="nav-menu">
            <button class="nav-item active" data-page="dashboard">
              <i class="fa-solid fa-th-large"></i>
              <span>Dashboard</span>
              <span class="nav-dot"></span>
            </button>
            <button class="nav-item" data-page="console">
              <i class="fa-solid fa-terminal"></i>
              <span>Console</span>
              <span class="nav-dot"></span>
            </button>
          </nav>
          
          <div class="nav-bottom">
            <button id="btn-settings" class="nav-item" title="Settings">
              <i class="fa-solid fa-gear"></i>
              <span>Settings</span>
            </button>
          </div>
        </aside>

        <!-- Main Content Area -->
        <div class="main-wrapper">
          <!-- Top Bar -->
          <header class="top-bar">
            <div class="top-bar-left">
              <div class="env-status">
                <span class="status-dot online"></span>
                <span class="env-text">SHEIHU ENVIRONMENT <span id="env-version">V2.1.0</span></span>
              </div>
            </div>
            
            <div class="top-bar-center">
              <span class="brand-name">SHEIHU</span>
              <span class="separator">|</span>
              <span class="nav-path">ENGINE / <strong>DASHBOARD</strong></span>
            </div>
            
            <div class="top-bar-right">
              <div class="user-profile">
                <img src="https://minotar.net/helm/Steve/32" id="user-avatar" alt="Avatar" />
                <div class="user-info">
                  <span class="user-name" id="user-name">Username</span>
                  <span class="user-status"><span class="status-dot online"></span>AUTHENTICATED</span>
                </div>
              </div>
              <button id="btn-logout-home" class="btn-logout-icon" title="Log out">
                <i class="fa-solid fa-right-from-bracket"></i>
              </button>
            </div>
          </header>

          <!-- Dashboard Content -->
          <main class="dashboard-content">
            <div class="game-card">
              <img src="/src/static/images/wynncast.png" class="game-icon" alt="WynnCast" />
              <div class="game-info">
                <h3 class="game-title">WynnCast</span></h3>
                <p class="game-version">Version <span id="game-version">1.21.11</span> â€” Ready to play</p>
                <button id="btn-play" class="btn-play">Play WynnCast</button>
              </div>
              
              <div class="progress-container hidden" id="launch-progress-container">
                <div class="progress-info">
                  <span id="launch-progress-label">Downloading...</span>
                  <span id="launch-progress-percent">0%</span>
                </div>
                <div class="progress-bar-bg">
                  <div class="progress-bar-fill" id="launch-progress-bar"></div>
                </div>
              </div>
            </div>

            <!-- Console Panel -->
            <div class="console-panel hidden" id="console-panel">
              <div class="console-header">
                <h3><i class="fa-solid fa-terminal"></i> Console Output</h3>
                <button id="btn-clear-console" class="btn-console-action" title="Clear console">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </div>
              <div class="console-output" id="console-output"></div>
            </div>
          </main>
        </div>
      </div>

      <div id="view-settings" class="view overlay" data-view="settings">
        <div class="settings-modal">
          <button id="btn-close-settings" class="btn btn-icon-only btn-close-absolute">
            <i class="fa-fw fa-solid fa-xmark"></i>
          </button>

          <aside class="settings-sidebar">
            <h2>Settings</h2>
            <nav>
              <button class="btn nav-btn active" data-tab="game"><i class="fa-fw fa-solid fa-cubes"></i><span>Game</span></button>
              <button class="btn nav-btn" data-tab="account"><i class="fa-fw fa-solid fa-user"></i><span>Account</span></button>
            </nav>
            <p id="version"></p>
          </aside>

          <main class="settings-content">
            <section id="tab-game" class="tab-content active">
              <h3>Minecraft configuration</h3>

              <div class="setting-group">
                <label><i class="fa-fw fa-solid fa-memory"></i>&nbsp;&nbsp;Allocated RAM</label>

                <div class="dual-slider-container">
                  <div class="slider-track"></div>
                  <div class="slider-fill" id="ram-track-fill"></div>

                  <input type="range" id="ram-min" min="0.5" max="16" step="0.5" value="2" />
                  <input type="range" id="ram-max" min="0.5" max="16" step="0.5" value="8" />
                </div>

                <div class="ram-labels">
                  <span id="ram-min-label">2 GB</span>
                  <span id="ram-max-label">8 GB</span>
                </div>
              </div>

              <div class="setting-group">
                <label><i class="fa-fw fa-solid fa-display"></i>&nbsp;&nbsp;Window size</label>
                <select id="resolution-select"></select>
              </div>

              <div class="setting-group">
                <label for="launcher-action"><i class="fa-solid fa-power-off"></i>&nbsp;&nbsp;Action after launch</label>
                <div class="select-wrapper">
                  <select id="launcher-action-select">
                    <option value="close">Close launcher</option>
                    <option value="keep">Keep launcher open</option>
                    <option value="hide">Hide launcher (minimize)</option>
                  </select>
                </div>
              </div>

              <div class="setting-group">
                <label><i class="fa-brands fa-java"></i>&nbsp;&nbsp;Java version</label>
                <div class="java-selector">
                  <select id="java-select">
                    <option value="bundled">Use bundled Java (recommended)</option>
                    <option value="system">Use system Java (PATH)</option>
                  </select>
                </div>
              </div>
            </section>

            <section id="tab-account" class="tab-content">
              <h3>Account management</h3>

              <div class="account-card">
                <div class="account-header">
                  <img src="https://minotar.net/helm/GoldFrite/80" alt="Skin" class="account-avatar" />
                  <div class="account-details">
                    <span class="account-name" id="settings-user-name">GoldFrite</span>
                    <span class="account-uuid" id="settings-user-uuid">UUID: 550e8400-e29b...</span>
                    <span class="account-type" id="settings-user-type"><i class="fa-brands fa-microsoft"></i>&nbsp;&nbsp;Microsoft Account</span>
                  </div>
                </div>

                <div class="account-actions">
                  <a href="https://www.xbox.com/play/user" target="_blank" class="btn btn-secondary">
                    <i class="fa-fw fa-solid fa-external-link-alt"></i><span>Manage Xbox Account</span>
                  </a>
                  <button id="btn-logout" class="btn btn-danger"><i class="fa-fw fa-solid fa-right-from-bracket"></i><span>Log out</span></button>
                </div>
              </div>
            </section>
          </main>
        </div>
      </div>
    </div>

    <div id="custom-dialog" class="dialog-overlay hidden">
      <div class="dialog-box">
        <h3 id="dialog-title" class="hidden">Notification</h3>
        <p id="dialog-message"></p>
        <div id="dialog-buttons" class="dialog-actions"></div>
      </div>
    </div>

    <script type="module" src="/src/app.ts"></script>
  </body>
</html>

